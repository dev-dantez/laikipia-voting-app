<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" /> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Lite Laikipia Youth Extravaganza Voting</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-r from-indigo-600 to-purple-600 min-h-screen flex items-center justify-center p-4">

  <div class="w-full max-w-2xl bg-white bg-opacity-10 backdrop-blur-md p-6 rounded-2xl shadow-lg">
    <h1 class="text-3xl md:text-4xl font-extrabold text-center mb-6 text-yellow-400">
      ðŸŽ¤Lite Laikipia Youth Extravaganza Voting ðŸŽ¶
    </h1>
    <p class="text-center text-sm mb-8 text-gray-200">Vote for your favourite stars in each category below.</p>

    <form id="votingForm" class="space-y-6">

      <!-- Best DJ -->
      <div>
        <h2 class="mb-4 text-lg font-semibold text-yellow-300">Best DJ</h2>
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
          <!-- REPEAT DJ INPUT CARDS HERE... UNCHANGED -->
          <!-- example -->
          <label class="flex items-center space-x-4 bg-white text-black p-4 rounded-xl shadow hover:bg-yellow-100 cursor-pointer">
            <input type="radio" name="dj" value="DJ Icef" class="accent-yellow-500" />
            <img src="./images/dj_icef (1).jpg" alt="DJ Icef" class="w-16 h-16 rounded-full object-cover">
            <span class="font-semibold">DJ Icef</span>
          </label>
          <!-- continue with your other DJs... -->
        </div>
      </div>

      <!-- Photographer -->
      <div>
        <h2 class="mb-4 text-lg font-semibold text-yellow-300">Best Photographer</h2>
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
          <!-- photographer cards -->
          <!-- example -->
          <label class="flex items-center space-x-4 bg-white text-black p-4 rounded-xl shadow hover:bg-yellow-100 cursor-pointer">
            <input type="radio" name="photographer" value="Kamesh photographer" class="accent-yellow-500" />
            <img src="./images/kamesh photographer.jpg" alt="Kamesh photographer" class="w-16 h-16 rounded-full object-cover">
            <span class="font-semibold">Kamesh photographer</span>
          </label>
          <!-- continue with the rest -->
        </div>
      </div>

      <!-- Influencer -->
      <div>
        <h2 class="mb-4 text-lg font-semibold text-yellow-300">Best Influencer</h2>
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
          <!-- Influencer cards -->
          <!-- example -->
          <label class="flex flex-wrap justify-center gap-4 bg-white text-black p-4 rounded-xl shadow hover:bg-yellow-100 cursor-pointer">
            <input type="radio" name="influencer" value="Influencer Joel mulwa jnr" class="accent-yellow-500" />
            <img src="./images/Joel mulwa jnr.jpg" alt="Influencer Joel mulwa jnr" class="w-16 h-16 rounded-full object-cover">
            <span class="font-semibold">Joel mulwa jnr</span>
          </label>
          <!-- continue with rest -->
        </div>
      </div>

      <!-- Dancer -->
      <div>
        <h2 class="mb-4 text-lg font-semibold text-yellow-300">Best Dancer</h2>
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
          <label class="flex flex-wrap justify-center gap-4 bg-white text-black p-4 rounded-xl shadow hover:bg-yellow-100 cursor-pointer">
            <input type="radio" name="dancer" value="COMFORTERS DANCE CREW" class="accent-yellow-500" />
            <img src="./images/COMFORTERS DANCE CREW.jpg" alt="COMFORTERS DANCE CREW" class="w-16 h-16 rounded-full object-cover">
            <span class="font-semibold">COMFORTERS DANCE CREW</span>
          </label>
          <label class="flex flex-wrap justify-center gap-4 text-black p-4 rounded-xl shadow hover:bg-yellow-100 cursor-pointer">
            <input type="radio" name="dancer" value="ALLSTARS DANCE CREW" class="accent-yellow-500" />
            <img src="./images/ALL STARZ DANCE CREW.jpg" alt="ALLSTARS DANCE CREW" class="w-16 h-16 rounded-full object-cover">
            <span class="font-semibold">ALLSTARS DANCE CREW</span>
          </label>
        </div>
      </div>

      <!-- Submit Button -->
      <div>
        <button type="submit" class="w-full bg-yellow-400 hover:bg-yellow-300 text-black font-bold py-3 px-6 rounded-2xl transition duration-200">
          Submit Vote
        </button>
        <p id="message" class="text-center mt-4 text-sm text-green-300"></p>
      </div>
    </form>

    <footer class="mt-8 text-center">
      <p class="text-sm text-gray-500">Thank you for voting! Your support means a lot to us.</p>
      <p class="text-sm text-gray-500">Developed by Brian</p>
      <p class="text-sm text-gray-500">To participate contact 0728893894</p>
    </footer>
  </div>

  <script>
    // Hook up the form
    document.getElementById('votingForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      const form = new FormData(e.target);
      const data = {
        dj: form.get("dj"),
        dancer: form.get("dancer"),
        influencer: form.get("influencer"),
        photographer: form.get("photographer")
      };

      try {
        const res = await fetch("https://laikipia-voting-api.onrender.com/votes", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(data)
        });

        const json = await res.json();
        document.getElementById("message").textContent = json.message || "Vote submitted!";
      } catch (err) {
        document.getElementById("message").textContent = "Failed to submit vote. Try again.";
        console.error(err);
      }
    });
  </script>
</body>
</html>
